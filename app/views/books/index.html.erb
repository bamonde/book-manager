<div id="books">
  <div class="row my-2">
    <div class="col text-right">
      <%= link_to 'Novo Livro', new_book_path, class: 'btn btn-primary' %>
    </div>
  </div>
  <% if @books.empty? %>
    <div>Nenhum livro cadastrado</div>
  <% else %>
    <table class="table table-responsive">
      <thead>
        <tr>
          <th>Título</th>
          <th>Edição</th>
          <th>Gênero</th>
          <th>Autor(es)</th>
          <th>Lançamento</th>
          <th>Editora</th>
          <th>ISBN</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% @books.each do |book| %>
          <tr>
            <td><%= link_to book.title, book_path(book) %></td>
            <td><%= book.edition %></td>
            <td><%= book.genre %></td>
            <td><%= book.authors.first.name %><%= book.authors.size > 1 ? " (+#{book.authors.size-1})" : '' %></td>
            <td><%= l(book.release_date, format: :only_date) %></td>
            <td><%= book.publisher.name %></td>
            <td><%= book.isbn %></td>
            <td>
              <%= link_to edit_book_path(book) do %>
                <span class="material-symbols-outlined">edit_square</span>
              <% end %>
              <%= link_to book_path(book), data: { turbo_method: "delete", turbo_confirm: 'Are you sure?' } do %>
                <span class="material-symbols-outlined">delete</span>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% end %>
</div>
